<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigilante - AnÃ¡lise de EstratÃ©gia de MÃ©dias MÃ³veis</title>
    <link rel="stylesheet" href="frontend/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js" integrity="sha384-OLBgp1GsljhM2TJ+sbHjaiH9txEUvgdDTAzHv2P24donTt6/529l+9Ua0vFImLlb" crossorigin="anonymous"></script>
    <script src="frontend/config.js"></script>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <h1 class="logo">ğŸ“Š VIGILANTE</h1>
                <p class="tagline">AnÃ¡lise Inteligente de MÃ©dias MÃ³veis (SMA17 Ã— SMA72)</p>
            </div>
            <div class="header-info">
                <span class="timestamp" id="timestamp"></span>
                <span class="status-indicator" id="statusIndicator">â— Conectado</span>
            </div>
        </div>
    </header>

    <!-- TABS NAVIGATION -->
    <nav class="tabs-nav">
        <div class="tabs-container">
            <button class="tab-btn active" data-tab="analise-atual" id="tabAnalise">
                ğŸ“ˆ AnÃ¡lise Atual
            </button>
            <button class="tab-btn" data-tab="backtest" id="tabBacktest">
                ğŸ“Š Backtest (15 anos)
            </button>
            <button class="tab-btn" data-tab="noticias" id="tabNoticias">
                ğŸ“° NotÃ­cias em Tempo Real
            </button>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="main-container">

        <!-- TAB 1: ANÃLISE ATUAL -->
        <div class="tab-content active" id="analise-atual">
            <div class="content-wrapper">
                <div class="alerts-section" id="alertsSection" style="display: none;">
                    <h2>ğŸ”” Alertas Recentes</h2>
                    <div id="alertsContainer" class="alerts-grid"></div>
                </div>

                <!-- CARTEIRAS -->
                <div id="carteirasContainer"></div>

                <!-- ANÃLISE GEMINI -->
                <div class="analise-gemini" id="analiseGeminiSection" style="display: none;">
                    <h2>ğŸ¤– AnÃ¡lise por IA (Gemini)</h2>
                    <div id="analiseGemini" class="analise-content"></div>
                </div>
            </div>
        </div>

        <!-- TAB 2: BACKTEST -->
        <div class="tab-content" id="backtest">
            <div class="content-wrapper">
                <div class="backtest-info">
                    <h2>ğŸ“Š AnÃ¡lise HistÃ³rica - Estrutura Buy & Hold em Cruzamentos</h2>
                    <p>EstratÃ©gia testada nos Ãºltimos <strong>15 anos</strong>:</p>
                    <ul style="color: #cbd5e1; margin: 15px 0; line-height: 1.8;">
                        <li>âœ… <strong>Compra:</strong> Quando SMA17 cruza acima de SMA72</li>
                        <li>âŒ <strong>Nunca vende:</strong> MantÃ©m a posiÃ§Ã£o atÃ© o final do perÃ­odo</li>
                        <li>ğŸ“ˆ AnÃ¡lise de rentabilidade e taxa de acerto</li>
                    </ul>
                </div>

                <div id="backtestStatusContainer" class="backtest-status" style="display: none;">
                    <div class="spinner"></div>
                    <p>Processando backtest de 15 anos... (pode levar alguns minutos)</p>
                </div>

                <div id="backtestResultsContainer" class="backtest-results" style="display: none;"></div>

                <div id="backtestErrorContainer" class="error-box" style="display: none;"></div>

                <!-- Stats Cards -->
                <div id="statsCardsContainer"></div>

                <!-- Carteiras Backtest -->
                <div id="backtestCarteirasContainer"></div>
            </div>
        </div>

        <!-- TAB 3: NOTÃCIAS -->
        <div class="tab-content" id="noticias">
            <div class="content-wrapper">
                <h2>ğŸ“° NotÃ­cias de Ativos Relevantes</h2>
                <div class="noticias-disclaimer">
                    <p>As notÃ­cias sÃ£o priorizadas por:</p>
                    <ul style="text-align: left; display: inline-block; margin: 10px 0;">
                        <li>ğŸ”¥ RecÃªncia de cruzamentos</li>
                        <li>ğŸ“Œ ImportÃ¢ncia da carteira</li>
                        <li>âš¡ RelevÃ¢ncia de movimentos</li>
                    </ul>
                </div>
                <div id="noticias-grid" class="noticias-grid"></div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <p>Vigilante v1.0 | AnÃ¡lise de EstratÃ©gia SMA17 Ã— SMA72 | AtualizaÃ§Ã£o contÃ­nua</p>
        <p>âš ï¸ Este Ã© um modelo educacional. Sempre consulte profissionais antes de investir.</p>
    </footer>

    <script src="frontend/script.js"></script>
</body>
</html>
